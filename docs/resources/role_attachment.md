---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "spacelift_role_attachment Resource - terraform-provider-spacelift"
subcategory: ""
description: |-
  spacelift_role_attachment represents a Spacelift role attachment between an API key and a role; or between an IdP Group Mapping and a role.
  Either api_key_id or idp_group_mapping_id must be set, but not both.
---

# spacelift_role_attachment (Resource)

`spacelift_role_attachment` represents a Spacelift role attachment between an API key and a role; or between an IdP Group Mapping and a role.
Either `api_key_id` or `idp_group_mapping_id` must be set, but not both.

## Example Usage

```terraform
resource "spacelift_role" "devops" {
  name    = "A role for DevOps team"
  actions = ["SPACE_ADMIN"]
}
resource "spacelift_space" "devops" {
  name            = "DevOps"
  parent_space_id = "root"
}

resource "spacelift_idp_group_mapping" "devops" {
  name = "devops-group"
}

# Attach an API key to a role in a specific space
resource "spacelift_role_attachment" "api_key_attachment" {
  api_key_id = "01K09KERE33P95V40YRWWRVAZT"
  role_id    = spacelift_role.devops.id
  space_id   = spacelift_space.devops.id
}

# Attach an IDP group mapping to a role in a specific space
resource "spacelift_role_attachment" "idp_group_attachment" {
  idp_group_mapping_id = spacelift_idp_group_mapping.devops.id
  role_id              = spacelift_role.devops.id
  space_id             = spacelift_space.devops.id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `role_id` (String) ID of the role to attach to the API key (ULID format). For example: `01F8Z5K4Y3D1G2H3J4K5L6M7N8`.
- `space_id` (String) ID of the space where the role attachment should be created

### Optional

- `api_key_id` (String) ID of the API key to attach to the role (ULID format). For example: `01F8Z5K4Y3D1G2H3J4K5L6M7N8`.
- `idp_group_mapping_id` (String) ID of the IdP Group Mapping to attach to the role (ULID format). For example: `01F8Z5K4Y3D1G2H3J4K5L6M7N8`.

### Read-Only

- `id` (String) The ID of this resource.

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import spacelift_role_attachment.api_key_attachment <ROLE_ATTACHMENT_ID>
```
