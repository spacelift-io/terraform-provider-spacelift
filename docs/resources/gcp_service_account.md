---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "spacelift_gcp_service_account Resource - terraform-provider-spacelift"
subcategory: ""
description: |-
  spacelift_gcp_service_account represents a Google Cloud Platform service account that's linked to a particular Stack or Module. These accounts are created by Spacelift on per-stack basis, and can be added as members to as many organizations and projects as needed. During a Run or a Task, temporary credentials for those service accounts are injected into the environment, which allows credential-less GCP Terraform provider setup.
---

# spacelift_gcp_service_account (Resource)

`spacelift_gcp_service_account` represents a Google Cloud Platform service account that's linked to a particular Stack or Module. These accounts are created by Spacelift on per-stack basis, and can be added as members to as many organizations and projects as needed. During a Run or a Task, temporary credentials for those service accounts are injected into the environment, which allows credential-less GCP Terraform provider setup.

## Example Usage

```terraform
resource "spacelift_stack" "k8s-core" {
  branch     = "master"
  name       = "Kubernetes core services"
  repository = "core-infra"
}

resource "spacelift_gcp_service_account" "k8s-core" {
  stack_id = spacelift_stack.k8s-core.id

  token_scopes = [
    "https://www.googleapis.com/auth/compute",
    "https://www.googleapis.com/auth/cloud-platform",
    "https://www.googleapis.com/auth/devstorage.full_control",
  ]
}

resource "google_project" "k8s-core" {
  name       = "Kubernetes code"
  project_id = "unicorn-k8s-core"
  org_id     = var.gcp_organization_id
}

resource "google_project_iam_member" "k8s-core" {
  project = google_project.k8s-core.id
  role    = "roles/owner"
  member  = "serviceAccount:${spacelift_stack_gcp_service_account.k8s-core.service_account_email}"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **token_scopes** (Set of String) List of scopes that will be requested when generating temporary GCP service account credentials

### Optional

- **id** (String) The ID of this resource.
- **module_id** (String) ID of the module which uses GCP service account credentials
- **stack_id** (String) ID of the stack which uses GCP service account credentials

### Read-Only

- **service_account_email** (String) Email address of the GCP service account dedicated for this stack


